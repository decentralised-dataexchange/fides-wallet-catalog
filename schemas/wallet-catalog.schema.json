{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://fides.community/schemas/wallet-catalog/v1",
  "title": "FIDES Wallet Catalog Descriptor",
  "description": "Schema for describing digital wallets by wallet providers for the FIDES Community catalog",
  "type": "object",
  "required": ["$schema", "provider", "wallets"],
  "properties": {
    "$schema": {
      "type": "string",
      "const": "https://fides.community/schemas/wallet-catalog/v1",
      "description": "Schema identifier - must be this exact value"
    },
    "provider": {
      "type": "object",
      "description": "Information about the wallet provider/organization",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the organization"
        },
        "did": {
          "type": "string",
          "description": "Decentralized Identifier (DID) of the organization (optional, but recommended)",
          "pattern": "^did:[a-z]+:.+"
        },
        "website": {
          "type": "string",
          "format": "uri",
          "description": "Website URL of the organization"
        },
        "logo": {
          "type": "string",
          "format": "uri",
          "description": "URL to the organization's logo"
        },
        "contact": {
          "type": "object",
          "description": "Contact information",
          "properties": {
            "email": {
              "type": "string",
              "format": "email",
              "description": "Contact email address"
            },
            "support": {
              "type": "string",
              "format": "uri",
              "description": "URL to support page or portal"
            }
          }
        }
      }
    },
    "wallets": {
      "type": "array",
      "description": "List of wallets offered by this provider",
      "items": {
        "$ref": "#/definitions/Wallet"
      },
      "minItems": 1
    },
    "lastUpdated": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp of last update (ISO 8601)"
    }
  },
  "definitions": {
    "Wallet": {
      "type": "object",
      "description": "A digital identity wallet",
      "required": ["id", "name", "type"],
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the wallet within this catalog (lowercase alphanumeric with hyphens)",
          "pattern": "^[a-z0-9-]+$"
        },
        "name": {
          "type": "string",
          "description": "Display name of the wallet"
        },
        "description": {
          "type": "string",
          "description": "Short description of the wallet and its purpose"
        },
        "logo": {
          "type": "string",
          "format": "uri",
          "description": "URL to the wallet's logo image"
        },
        "website": {
          "type": "string",
          "format": "uri",
          "description": "Landing page or website for the wallet"
        },
        "type": {
          "type": "string",
          "enum": ["personal", "organizational"],
          "description": "Wallet type: 'personal' for citizen/consumer wallets, 'organizational' for enterprise/business wallets"
        },
        "platforms": {
          "type": "array",
          "description": "Supported platforms",
          "items": {
            "type": "string",
            "enum": ["iOS", "Android", "Web", "Windows", "macOS", "Linux", "CLI"]
          }
        },
        "openSource": {
          "type": "boolean",
          "description": "Whether the wallet is open source"
        },
        "license": {
          "type": "string",
          "description": "Open source license identifier (SPDX format recommended)",
          "examples": ["MIT", "Apache-2.0", "GPL-3.0", "EUPL-1.2"]
        },
        "repository": {
          "type": "string",
          "format": "uri",
          "description": "URL to the source code repository"
        },
        "credentialFormats": {
          "type": "array",
          "description": "Supported verifiable credential formats",
          "items": {
            "type": "string",
            "enum": [
              "SD-JWT",
              "SD-JWT-VC",
              "mDL/mDoc",
              "AnonCreds",
              "JWT-VC",
              "JSON-LD VC",
              "X.509",
              "CBOR-LD"
            ]
          }
        },
        "issuanceProtocols": {
          "type": "array",
          "description": "Supported credential issuance protocols",
          "items": {
            "type": "string",
            "enum": [
              "OpenID4VCI",
              "DIDComm Issue Credential v1",
              "DIDComm Issue Credential v2",
              "ISO 18013-5 (Device Retrieval)"
            ]
          }
        },
        "presentationProtocols": {
          "type": "array",
          "description": "Supported credential presentation/verification protocols",
          "items": {
            "type": "string",
            "enum": [
              "OpenID4VP",
              "DIDComm Present Proof v1",
              "DIDComm Present Proof v2",
              "ISO 18013-5",
              "SIOPv2"
            ]
          }
        },
        "supportedDIDMethods": {
          "type": "array",
          "description": "Supported DID methods",
          "items": {
            "type": "string",
            "pattern": "^did:[a-z]+$",
            "examples": ["did:web", "did:key", "did:jwk", "did:peer", "did:ion", "did:ebsi"]
          }
        },
        "keyManagement": {
          "type": "array",
          "description": "Supported key management and storage methods",
          "items": {
            "type": "string",
            "enum": [
              "Software",
              "Secure Enclave (iOS)",
              "StrongBox (Android)",
              "TEE",
              "HSM",
              "Cloud KMS",
              "Smart Card",
              "FIDO2/WebAuthn"
            ]
          }
        },
        "certifications": {
          "type": "array",
          "description": "Certifications and compliance attestations",
          "items": {
            "type": "string"
          },
          "examples": [["EUDI Wallet LSP", "ISO 27001", "SOC 2", "Common Criteria"]]
        },
        "interoperabilityProfiles": {
          "type": "array",
          "description": "Supported interoperability profiles for cross-wallet compatibility",
          "items": {
            "type": "string",
            "enum": [
              "DIIP v4",
              "EWC v3"
            ]
          }
        },
        "standards": {
          "type": "array",
          "description": "Supported technical standards",
          "items": {
            "type": "string"
          },
          "examples": [["ARF 1.4", "mDL ISO 18013-5", "EBSI"]]
        },
        "features": {
          "type": "array",
          "description": "Additional features and capabilities",
          "items": {
            "type": "string"
          },
          "examples": [["Biometric authentication", "Backup & recovery", "Multi-device sync", "Offline support"]]
        },
        "documentation": {
          "type": "string",
          "format": "uri",
          "description": "URL to developer or user documentation"
        },
        "appStoreLinks": {
          "type": "object",
          "description": "Links to app stores for downloading the wallet",
          "properties": {
            "iOS": {
              "type": "string",
              "format": "uri",
              "description": "Apple App Store link"
            },
            "android": {
              "type": "string",
              "format": "uri",
              "description": "Google Play Store link"
            },
            "web": {
              "type": "string",
              "format": "uri",
              "description": "Web application URL"
            }
          }
        },
        "status": {
          "type": "string",
          "enum": ["development", "beta", "production", "deprecated"],
          "description": "Current status/maturity of the wallet"
        },
        "releaseDate": {
          "type": "string",
          "format": "date",
          "description": "Initial release date (YYYY-MM-DD)"
        },
        "capabilities": {
          "type": "array",
          "description": "Capabilities/roles of the wallet (primarily for organizational wallets)",
          "items": {
            "type": "string",
            "enum": ["holder", "issuer", "verifier"]
          }
        }
      }
    }
  }
}
